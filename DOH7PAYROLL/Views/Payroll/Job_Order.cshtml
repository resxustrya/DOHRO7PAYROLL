@{
    ViewBag.Title = "Job_Order";
    if (TempData["message"] != null)
    {
            <div class="alert alert-success">
               <strong><span class="glyphicon glyphicon-ok"></span> </strong> <span>@TempData["message"]</span>
            </div>
    }
}

<h2>Job Orders Payroll</h2>
<form action="Payroll/ExportData" method="POST">
    <input type="submit" class="btn btn-primary" value="Generate" />
</form>
<div class="row card-view">
    <div class="col-md-12">
        
        <div class="col-md-3">
            <form class="form-inline" method="POST" action="">
                <div class="form-group">
                    <div class="input-group">
                        <input type="text" name="search" placeholder="Search here.." class="form-control margin-top margin-bottom" value="@ViewBag.Search" />
                        <input type="text" name="id" value = "3" style="visibility:hidden" />
                        <input type="submit" style="visibility:hidden" />
                    </div>
                </div>
            </form>
        </div>
        <table class="table" id="table_list">
            <thead>
                <tr>
                    <th>Personnel ID</th>
                    <th>Firstname</th>
                    <th>Lastname</th>
                    <th>Type</th>
                    <th></th>
                </tr>
            </thead>

            @foreach (var list in ViewBag.List)
            {
               <tr>
                    <td>@list.PersonnelID</td>
                    <td>@list.Firstname</td>
                    <td>@list.Lastname</td>
                    <td>@list.JobType</td>
                    
                    <td class="hidden">@list.Payroll.Salary</td>
                    <td class="hidden">@list.Payroll.MinutesLate</td>
                    <td class="hidden">@list.Payroll.Coop</td>
                    <td class="hidden">@list.Payroll.Phic</td>
                    <td class="hidden">@list.Payroll.Disallowance</td>
                    <td class="hidden">@list.Payroll.Gsis</td>
                    <td class="hidden">@list.Payroll.Pagibig</td>
                    <td class="hidden">@list.Payroll.ExcessMobile</td>
                    <td class="hidden">@list.Payroll.Flag</td>
                   <td class="hidden">@list.Payroll.WorkDays</td>
                    @if (list.Payroll.Flag.Equals("0")){
                        <td><button type="button" class="btn btn-primary btn_view" data-toggle="modal" data-target="#modal">Write</button></td>
                    }
                    else{
                        <td><button type="button" class="btn btn-success btn_view" data-toggle="modal" data-target="#modal">Edit</button></td>
                    }
                </tr>
            }
        </table>
    </div>
</div>
<div class="row card-view">
    <div class="col-md-5 col-md-offset-5">        
        <!--navigation-->
        <div class="col-md-2">
            <form method="POST" action="">
                <input type="hidden" name="search" value="@ViewBag.Search" />
                @if (ViewBag.Prev != 0)
                {
                    <button type="submit" class="btn btn-primary" name="id" value="1">Prev</button>
                }
            </form>
        </div>
        <div class="col-md-2">
                <span class="span-align">@((ViewBag.Prev + 1) + " - " + ViewBag.Next)</span>
        </div>
        <div class="col-md-3">
            <form method="POST" action="">
                <input type="hidden" name="search" value="@ViewBag.Search" />
                @if (ViewBag.Next != ViewBag.Max)
                {
                    <button type="submit" class="btn btn-primary" name="id" value="0">Next</button>
                }
            </form>
        </div>
    </div>
</div>

